<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title> PortalCore - Core of Fast Travel </title>
    <link rel="icon" href="./assets/Hexagone.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/wavesurfer.js"></script>
</head>

<body>
<script>
    <!--    make navbar disappear when scrolling down and appear when scrolling up-->
    let prevScrollpos = window.pageYOffset;
    window.onscroll = function () {
        const currentScrollPos = window.pageYOffset;
        if (prevScrollpos > currentScrollPos) {
            document.getElementById("navbar").style.top = "0";
        } else {
            document.getElementById("navbar").style.top = "-150px";
        }
        prevScrollpos = currentScrollPos;
    }
</script>
<nav id="navbar">
    <div class="nav-logo">
        <a href="index.html">
            <img src="./assets/Logo.png" width=469 alt="Portal Core">
        </a>
    </div>
    <div class="nav-items">
        <a href="#portal-info">Portal-Core</a>
        <a href="#campaign-info">Kampagne</a>
        <a href="#team">Team</a>
        <a href="#sources">Quellen</a>
    </div>
</nav>

<main>
    <div class="introduction-section-container">
        <div class="introduction-section">
            <h1><span id="first">DIE ZUKUNFT <br> <span id="second">BEGINNT <span id="third">HIER</span></span></span>
            </h1>
        </div>
    </div>

    <section class="portal-info-section-container" id="portal-info">
        <h3>Wer sind wir?</h3>
        <div class="portal-info-section">
            <div lang="de" class="portal-info-text">
                <p>
                    Wir von Portal Core präsentieren die neueste Tech&shy;nologie aus der Reise&shy;welt: Die Portal&shy;technologie!
                </p>
                <p>
                    Unser Ziel ist es rund um den Globus bahnhof&shy;artige Zentren mit Por&shy;talen statt Glei&shy;sen
                    zu errichten.
                </p>
                <p>
                    Durch die
                    Nutzung dieser Portal&shy;bah&shy;nhöfe, oder Portal Stations, kommt man im hand&shy;umdrehen
                    überall hin.
                    Dies spart nicht nur
                    lästige Reise&shy;zeit und Flug&shy;zeug&shy;emissionen, sondern auch Geld, da unsere Portal&shy;technologie
                    äußerst
                    energie&shy;sparend
                    und somit überraschend günstig ist.
                </p>
                <p>
                    Vergessen sie lange Flugreisen und reisen sie ab sofort mit Portal Core!
                </p>
            </div>
            <div class="portal-info-map-container">
                <img class="portal-info-map" src="./assets/Karte.png" alt="Weltkarte">
                <img class="clickable-item" src="./assets/expand_more_icon.svg" alt="expand more" id="expand-map">
            </div>
        </div>
    </section>

    <section class="portal-section-container">
        <div class="portal-section" id="portal">
            <div class="portal-locations-container">
                <h3>Stand<span class="hex">&#x2B21;</span>rte</h3>
                <div class="slider">
                    <!-- We want to add two arrows for the slider and a p tag as text, it will be a text slider -->
                    <img src="./assets/arrow_back.svg" alt="arrow back" class="clickable-item" id="back-arrow">
                    <p class="fade-in">Portale</p>
                    <img src="./assets/arrow_forward.svg" alt="arrow forward" class="clickable-item" id="forward-arrow">
                </div>
            </div>
            <img src="./assets/Portal.png" alt="Portal">
        </div>
        <img class="clickable-item" src="./assets/expand_more_icon_white.svg" alt="expand more" id="next-stop">
    </section>

    <section class="portal-pros-section-container" id="pros">
        <h3> Warum P<span class="hex">&#x2B21;</span>rtal-C<span class="hex">&#x2B21;</span>re? </h3>
        <div class="portal-pros-section">
            <ul class="portal-pros-section-list">
                <li>Umwelt&shy;freundlich</li>
                <li>Schnelles Reisen</li>
                <li>Geringe Preise</li>
            </ul>
        </div>
        <img class="clickable-item" src="./assets/expand_more_icon.svg" alt="expand more" id="campaign">
    </section>


    <section class="campaign-section-container" id="campaign-info">
        <h3>Kampagne</h3>
        <div class="plakat">
            <h4>PLAKAT</h4>
            <div class="alignment-container">
                <img class="plakat-img" src="./assets/Plakat.jpg" alt="Poster">
                <a class="alignment-container" download="Plakat.jpg" href="./assets/Plakat.jpg"
                   title="Plakat herunterladen">
                    <img src="./assets/download_icon.svg" alt="download icon" class="clickable-item"
                         id="download-plakat">
                </a>
            </div>
        </div>
        <div class="plakat">
            <h4>RADIO-SPOT</h4>
            <div class="alignment-container">
                <div class="controls">
                    <div id="waveform"></div>
                    <div class="controls-buttons">
                        <img src="./assets/back-icon.svg" alt="back" class="clickable-item" id="back-radio-spot">
                        <img src="./assets/play_icon.svg" alt="play" class="clickable-item" id="play-radio-spot">
                        <img src="./assets/pause_icon.svg" alt="pause" class="clickable-item" id="pause-radio-spot">
                    </div>
                </div>
                <a download="Radio-Spot.mp3" href="./assets/Radiospot_result_v5-2.mp3"
                   title="Radio-Spot herunterladen">
                    <img src="./assets/download_icon.svg" alt="download icon" class="clickable-item"
                         id="download-radio-spot">
                </a>
            </div>
        </div>
    </section>

    <section class="team-section-container" id="team">
        <h2> Unser Team </h2>
        <ul class="team-section">
            <li>Niclas Grüschow</li>
            <li>Maxim Kirsch</li>
            <li>Omar El Hussein</li>
            <li>Eleni Papani</li>
        </ul>
    </section>
</main>

<footer>
    <p>© 2023 PortalCore</p>
    <a href="https://twitter.com/"> Twitter </a>
    <a href="https://instagram.com/"> Instagram </a>
    <a href="https://www.youtube.com/"> Youtube </a>
</footer>

<script>
    const locations = [
        {
            name: "Windows XP",
            image: "./assets/Portal_XP.png"
        },
        {
            name: "NYC",
            image: "./assets/Portal_NYC.png"
        },
        {
            name: "London",
            image: "./assets/Portal_London.png"
        },
        {
            name: "Paris",
            image: "./assets/Portal_Paris.png"
        },
        {
            name: "Berlin",
            image: "./assets/Portal_Berlin.png"
        }
    ];

    let currentLocation = 0;

    const locationText = document.querySelector(".slider > p");
    const locationImage = document.querySelector(".portal-section > img");

    const nextLocation = () => {
        console.log("next location")
        currentLocation++;
        if (currentLocation > locations.length - 1) {
            currentLocation = 0;
        }
        locationText.classList.add("slide-out");
        locationImage.src = locations[currentLocation].image;
    }

    const previousLocation = () => {
        console.log("previous location")
        currentLocation--;
        if (currentLocation < 0) {
            currentLocation = locations.length - 1;
        }
        locationText.classList.add("slide-out-right");
        locationImage.src = locations[currentLocation].image;
    }

    locationText.addEventListener("animationend", (evt) => {
        if (evt.animationName === "slideOut") {
            locationText.classList.remove("slide-out");
            locationText.classList.add("slide-in");
            locationText.textContent = locations[currentLocation].name;
        } else if (evt.animationName === "slideIn") {
            locationText.classList.remove("slide-in");
        }
    });

    locationText.addEventListener("animationend", (evt) => {
        if (evt.animationName === "slideOutRight") {
            locationText.classList.remove("slide-out-right");
            locationText.classList.add("slide-in-right");
            locationText.textContent = locations[currentLocation].name;
            console.log("slide out right")
        } else if (evt.animationName === "slideInRight") {
            locationText.classList.remove("slide-in-right");
        }
    });

    document.getElementById("back-arrow").addEventListener("click", previousLocation);
    document.getElementById("forward-arrow").addEventListener("click", nextLocation);

    //     code for map click event goes here:
    const clickableIcon = document.getElementById("expand-map");
    clickableIcon.addEventListener("click", () => {
        window.scrollTo({
            top: document.getElementById("portal").offsetTop,
            behavior: "smooth"
        });
        window.location.hash = "portal";
    });

    //   code for "hier" click event goes here:
    const clickableText = document.getElementById("first");
    clickableText.addEventListener("click", () => {
        window.scrollTo({
            top: document.getElementById("portal-info").offsetTop,
            behavior: "smooth"
        });
        window.location.hash = "portal-info";
    });

    //   code for "next stop" click event goes here:
    const nextStop = document.getElementById("next-stop");
    nextStop.addEventListener("click", () => {
        window.scrollTo({
            top: document.getElementById("pros").offsetTop,
            behavior: "smooth"
        });
        window.location.hash = "pros";
    });

    //   code for "pros" click event goes here:
    const pros = document.getElementById("pros");
    pros.addEventListener("click", () => {
        window.scrollTo({
            top: document.getElementById("campaign-info").offsetTop,
            behavior: "smooth"
        });
        window.location.hash = "campaign-info";
    });

    //  code for wave form goes here:
    const wavesurfer = WaveSurfer.create({
        container: '#waveform',
        waveColor: '#f6f6f6',
        progressColor: '#2c3e50',
        barWidth: 2,
        barRadius: 1,
        cursorWidth: 1,
        cursorColor: '#2c2c2c',
        height: 200,
        responsive: true,
        fillParent: true,
    });
    wavesurfer.load('./assets/Radiospot_result_v5-2.mp3');

    // audio controls
    const playButton = document.getElementById("play-radio-spot");
    const pauseButton = document.getElementById("pause-radio-spot");
    const backButton = document.getElementById("back-radio-spot");

    function checkPlaying() {
        if (wavesurfer.isPlaying()) {
            playButton.style.display = "none";
            pauseButton.style.display = "block";
        } else {
            playButton.style.display = "block";
            pauseButton.style.display = "none";
        }
    }

    checkPlaying();

    playButton.addEventListener("click", () => {
        wavesurfer.play();
        checkPlaying();
    });

    pauseButton.addEventListener("click", () => {
        wavesurfer.pause();
        checkPlaying();
    });

    backButton.addEventListener("click", () => {
        wavesurfer.stop();
        checkPlaying();
    });


</script>

</body>

</html>
